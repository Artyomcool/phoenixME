<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>



 <link rel="stylesheet" type="text/css" href="how-to2_files/print.html" media="print">
 <script src="how-to2_files/tigris.html" type="text/javascript"></script><!-- ------- ORIGINAL CODE --------------------------- --><!--<head>
 <style type="text/css"> 
 /* <![CDATA[ */
 @import "/branding/css/tigris.css";
 @import "/branding/css/inst.css";
 /* ]]> */
 </style>
 <link rel="stylesheet" type="text/css" href="/branding/css/print.css" media="print" />
 <script src="/branding/scripts/tigris.js" type="text/javascript"></script> --><title>Getting Started: Host Environment</title>
 
 


  
                                                     
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta http-equiv="Content-Style-Type" content="text/css">
 <meta name="version" content="3.5.1.19.8">
 <style type="text/css">
<!--
a:link {
	text-decoration: none;
}
a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: underline;
}
a:active {
	text-decoration: none;
}
-->
</style></head><body class="composite">
  
<table id="main" border="0" cellpadding="4" cellspacing="0" width="100%">
<tbody><tr>
 <td id="midcol">
 
 
<!-- 
 ===============================================================================
    IGNORE EVERYTHING ABOVE THIS AREA.  *   START EDITING BELOW 
 ===============================================================================
 -->
 
 
 
<!--BEGIN * PAGE TITLE -->
<div id="projecthome" class="app"> 
<h1 class="style3">CDC Build System: Host Environment</h1>
<!--END * PAGE TITLE -->
<p>
Once you have downloaded the source code
for phoneME Advanced MR2,
you can use the build system included with it
to build different executable versions of a CDC Java runtime environment.
These different versions can include different peformance features,
API options or target platforms.
</p><p>
The following sections show how to
setup the CDC build system on a Linux/x86 host platform,
and then build different versions of the CDC Java runtime environment 
that will also run on a Linux/x86 platform.
We call this running the CDC Java runtime environment on a host platform.
A later section describes how to build
different versions of the CDC Java runtime environment
that run on alternate devices like advanced phones.
</p><p>
    </p><ul>
    <p>
    </p><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#Setup">Build System Setup</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SetupLinuxPackages">Install the Linux Build Tool Packages</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SetupJavaTools">Install the Java Build Tools</a>
      </li></ul>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#Simple">A Simple Example Build: CDC</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SimpleBuild">Build the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SimpleTest">Test the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#BuildOptions">More Build Options</a>
      </li></ul>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SimpleFP">Building Foundation Profile</a>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#PBP">Building Personal Basis Profile</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#PBPSetup">Setup the Build System</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#PBPBuild">Build the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#PBPTest">Test the Executable</a>
      </li></ul>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#MIDP">Building MIDP</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#MIDPSetup">Setup the Build System</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#MIDPBuild">Build the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#MIDPTest">Test the Executable</a>
      </li></ul>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#AMS">Building AMS</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#AMSSetup">Setup the Build System</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#AMSBuild">Build the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#AMSTest">Test the Executable</a>
      </li></ul>
    <p>
    </p></li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#OP">Building an Optional Package</a>
      <ul>
        <li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#OPSetup">Setup the Build System</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#OPBuild">Build the Executable</a>
        </li><li><a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#OPTest">Test the Executable</a>
      </li></ul>
    </li></ul>
    <p>
</p><p>
This guide only covers the basic build procedures and build options.
See the
<a href="http://java.sun.com/javame/reference/docs/cdc_build_system.pdf">
<i>CDC Build System Guide</i></a>
for more information about build options,
build system organization and tool setup issues.
See <a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildtarget.html">CDC Build System: Target Devices</a>
for information on how to build executable versions
of the CDC Java runtime environment for various embedded target devices.

</p><hr noshade="noshade" size="1">
<a name="Setup"><h4>Build System Setup</h4></a>
<p>
<a name="SetupLinuxPackages"><h5>Install the Linux Build Tool Packages</h5></a>
</p><p>
</p><blockquote>
<b>Note:</b>
Currently, most of the active testing for CDC build system
for phoneME Advanced MR2 technology
has been based on Ubuntu 6.0.6.
</blockquote>
<p>
The CDC build system included with the source code
for the phoneME Advanced MR2
can run on many different Linux distributions.
To run the CDC build system,
you will need certain Linux developer tools like a C/C++ compiler
as well as the Java developer tools included in the
<a href="http://java.sun.com/j2se/1.4.2/download.html">Java SE SDK</a>.
</p><p>
A reasonable guideline is that a recent, common Linux distribution
should include the tools needed by the CDC build system.
However, some user-oriented Linux distributions
like <a href="http://www.ubuntu.com/">Ubuntu</a>
may not include the necessary tools by default.
So this guide includes tables
that provide guidelines for acquiring the necessary tools
based on the
<a href="http://packages.debian.org/">
Debian Package Management System</a> used by
<a href="http://www.ubuntu.com/">Ubuntu</a>
and
<a href="http://www.debian.org/">Debian</a>.
</p><p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="30%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Debian Package</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Version</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>binutils-static</tt></td>
          <td>2.16</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>bison</tt></td>
          <td>2.1</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>flex</tt></td>
          <td>2.5.31</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>g++-4.0</tt></td>
          <td>4.0.3</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>make</tt></td>
          <td>3.8</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>subversion</tt></td>
          <td>1.3.1</td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>
<p>
Note that the source code and build system for this release
have been tested with earlier versions of <tt>gcc</tt> as well,
in particular 3.3.x and 3.4.x.
In particular,
<tt>gcc</tt> 4.x is more restrictive than earlier versions.
So it may in some cases be necessary to use the <tt>-fpermissive</tt> flag
or downgrade to an earlier compiler version.

<a name="SetupJavaTools"><h5>Install the Java Build Tools</h5></a>
</p><p>
Download and install the
<a href="http://java.sun.com/j2se/1.4.2/download.html">Java SE SDK</a>,
version 1.4.2.
The examples below are based on installing the Java developer tools
in <tt>/usr/java/j2sdk</tt>.
</p><p>
Note that many Linux distributions include alternate implementations
of these Java developer tools.
We have only tested and run the CDC build system
with the Java developer tools provided by Sun.

</p><hr noshade="noshade" size="1">
<a name="Simple"><h4>A Simple Example Build: CDC</h4></a>
<p>
Once you've set up the CDC build system
by installing the necessary build tools in the default locations,
then you can perform a simple build process
to validate the build system.
The build process is launched by a top-level <tt>GNUmakefile</tt>
in the <i>target build directory</i>.
The name of the target build directory is based
on the combination of the operating system, CPU and product name.
For example, the target build directory for Ubuntu is
<tt>cdc/build/linux-x86-generic</tt>.
</p><p>
The simplest build target is CDC without any profile.
This is a "headless" implementation
that we'll use to run a basic <tt>HelloWorld</tt> application.

<a name="SimpleBuild"><h5>Build the Executable</h5></a>
</p><p>
The CDC build system is launched with a single <tt>make</tt> command.
</p><p>
</p><blockquote>
<pre>% make
</pre>
</blockquote>
<p>
The build system will display a log of the build process.
If the build is successful, it will display something like:
</p><p>
</p><blockquote>
<pre>...
make[1]: Entering directory `/home/user/phoneme-advanced-mr2/build/linux-x86-generic'
make[1]: Nothing to be done for `tools'.
make[1]: Leaving directory `/home/user/phoneme-advanced-mr2/build/linux-x86-generic'
</pre>
</blockquote>
<p>
If the build fails at some point,
your build tools are probably misconfigured or not compatible.
The first step is to look at the definitions of variables:
</p><p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="60%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody>
        <tr>
          <th><font color="#ffffff" size="-1"><b>Variable</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Description</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Example</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>CVM_HOST_TOOLS_PREFIX</tt></td>
          <td>Location of the host build tools.
          Requires a trailing slash (/).</td>
          <td><tt>CVM_HOST_TOOLS_PREFIX=/usr/bin/</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>CVM_JAVA_TOOLS_PREFIX</tt></td>
          <td>Location of the Java build tools.
          Requires a trailing slash (/).</td>
          <td><tt>CVM_JAVA_TOOLS_PREFIX=/usr/java/j2sdk/bin/</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>JDK_HOME</tt></td>
          <td>Location of the Java build tools.
          Needed by some parts of the build system.</td>
          <td><tt>JDK_HOME=/usr/java/j2sdk/</tt></td>
        </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="SimpleTest"><h5>Test the Executable</h5></a>
<p>
When the build process completes successfully
it generates an executable CDC Java runtime environment.
The component files of the CDC Java runtime environment
are located in the target build directory.
The runtime files are in the <tt>bin</tt> and <tt>lib</tt> directories
with some additional demo programs in <tt>testclasses.zip</tt>.
</p><p>
Here is the command-line for running a simple test application.
</p><p>
</p><blockquote>
<pre>% bin/cvm -cp testclasses.zip HelloWorld
</pre>
</blockquote>

<a name="BuildOptions"><h5>More Build Options</h5></a>
<p>
The CDC build system includes many build options and targets:
</p><p>
</p><ul>
<li>
<b>API choices.</b>
The Java ME platform has a configurable API architecture
which allows designers to select standardized APIs
that are appropriate for a given target device.
The
<a href="http://java.sun.com/products/cdc/wp/cdc-whitepaper.pdf">
CDC white paper</a>
describes these API choices in more detail.
For now, it's important to understand that these choices
are made available through the build system as build options.
For example,
the choice between which Java ME profile to use
is controlled by the <tt>J2ME_CLASSLIB</tt> build option.
<p>
</p></li><li>
<b>Testing features.</b>
Some build options are intended
only for development and testing purposes.
These include <tt>CVM_TRACE</tt> for tracing VM events
and <tt>CVM_JVMDI</tt> for enabling Java debugging.
<p>
</p></li><li>
<b>Performance features.</b>
And finally, some build options are intended for performance.
For example,
<tt>CVM_PRELOAD_LIB</tt>
uses <tt>JavaCodeCompact</tt> to preload the Java class library
so that it can execute out of ROM.
And <tt>CVM_JIT</tt> builds an executable with a JIT.
<p>
</p></li><li>
<b>Convenience features.</b>
By default, the generated files are built in the target build directory.
<tt>CVM_BUILD_SUBDIR=true</tt> and
<tt>CVM_BUILD_SUBDIR_NAME=<i>name</i></tt>
tell the build system to deposit the generated files in another directory.
</li></ul>
<p>
The
<a href="http://java.sun.com/javame/reference/docs/cdc_build_system.pdf">
<i>CDC Build System Guide</i></a>
provides tables that describe each build option.

</p><hr noshade="noshade" size="1">
<a name="SimpleFP"><h4>Building Foundation Profile</h4></a>
<p>
Foundation Profile (FP)
is a more complete API specification for headless devices.
The steps described above can be easily modified
to build an executable for FP.
All you have to do is add 
<tt>J2ME_CLASSLIB=foundation</tt> build option
to the build options in the <tt>GNUmakefile</tt>.
</p><p>
Here is the command-line for running a test application.
</p><p>
</p><blockquote>
<pre>% bin/cvm -cp testclasses.zip Test
</pre>
</blockquote>

<hr noshade="noshade" size="1">
<a name="PBP"><h4>Building Personal Basis Profile</h4></a>
<p>
The CDC build system has many <b>build options</b>
for building versions of the CDC Java runtime environment
with additional API capabilities.
For example,
Personal Basis Profile (PBP) is an API specification
for providing GUI capabilities.
While PBP is not itself a GUI framework,
it provides an infrastructure for implementing
lightweight GUI widget toolkits like Swing
and support for the xlet application model.
</p><p>
This build example will show how to build the CDC Java runtime environment
with a PBP implementation based on the
<a href="http://www.trolltech.com/products/qt">Qt</a>
GUI framework.

<a name="PBPSetup"><h5>Setup the Build System</h5></a>
</p><p>
The build system requirements for PBP are the same as the
<a href="file:///C:/javameoss/phoneme/www/content/mr2/pmAdv-buildhost.html#SetupLinuxPackages">base requirements</a>
described earlier with the addition of the
<a href="http://www.trolltech.com/products/qt">Qt3</a>
development libraries.
</p><p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="30%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody>
        <tr>
          <th><font color="#ffffff" size="-1"><b>Debian Package</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Version</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>libqt3-mt-dev</tt></td>
          <td>3.3.6</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>libqt3-compat-headers</tt></td>
          <td>3.3.6</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>qt3-dev-tools-embedded</tt></td>
          <td>3.3.6</td>
        </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="PBPBuild"><h5>Build the Executable</h5></a>
<p>
Building PBP requires a few additional build options.
You can put these <tt>make</tt> variables
on the <tt>make</tt> command-line
or add them to the <tt>GNUmakefile</tt>.
</p><p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="60%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody>
        <tr>
          <th><font color="#ffffff" size="-1"><b>Build Option</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Description</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Example</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>J2ME_CLASSLIB</tt></td>
          <td>Profile build target.</td>
          <td><tt>J2ME_CLASSLIB=basis</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>AWT_IMPLEMENTATION</tt></td>
          <td>Platform-level GUI toolkit used by AWT.</td>
          <td><tt>AWT_IMPLEMENTATION=qt</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>QT_TARGET_DIR</tt></td>
          <td>Location of the
          <a href="http://www.trolltech.com/products/qt">Qt3</a>
          development libraries.</td>
          <td><tt>QT_TARGET_DIR=/usr/share/qt3</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>X11_LIB_DIR</tt></td>
          <td>Location of the X11 libraries.</td>
          <td><tt>X11_LIB_DIR=/usr/X11R6/lib</tt></td>
        </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="PBPTest"><h5>Test the Executable</h5></a>
<p>
Here is the command-line for running a PBP test application.
</p><p>
</p><blockquote>
<pre>% bin/cvm -cp democlasses.jar basis.DemoFrame
</pre>
</blockquote>

<hr noshade="noshade" size="1">
<a name="MIDP"><h4>Building MIDP</h4></a>
<p>
phoneME Advanced MR2 includes the first release of MIDP on CDC technology
and a lot of work has been done to make the build systems and implementations
compatible and sharable.

<a name="MIDPSetup"><h5>Setup the Build System</h5></a>
</p><p>
</p><ol>
<li>
<b>Checkout the <tt>pcsl</tt> and <tt>midp</tt> components
from the project source code repository.</b>
<p>
</p><blockquote>
<pre>% mkdir -p phoneme-advanced-mr2/pcsl
% svn checkout https://phoneme.dev.java.net/svn/phoneme/components/pcsl/trunk phoneme-advanced-mr2/pcsl

% mkdir -p phoneme-advanced-mr2/midp
% svn checkout https://phoneme.dev.java.net/svn/phoneme/components/midp/trunk phoneme-advanced-mr2/midp
</pre>
</blockquote>
<p>
</p></li><li>
<b>Build the Qt Embedded Framework
for use with the <tt>qvfb</tt> virtual framebuffer.</b>
See the
<a href="http://wiki.java.net/bin/view/Mobileandembedded/PhoneMEAdvancedPlatformsBuildingQtEmbedded">Building Qt Embedded</a>
notes in the phoneME Advanced twiki.
<p>
</p></li><li>
<b>Install the Debian package for the <tt>gawk</tt> tool.</b>
<p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="40%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Debian Package</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Version</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>gawk</tt></td>
          <td>1.3.1</td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>
</li></ol>

<a name="MIDPBuild"><h5>Build the Executable</h5></a>
<p>
Use the following build options:
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="40%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Build Option</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Description</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Example</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>PCSL_DIR</tt></td>
          <td>Location of the PCSL component.</td>
	  <td><tt>/home/test/phoneme/components/pcsl</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>MIDP_DIR</tt></td>
          <td>Location of the MIDP component. </td><td><tt>/home/test/phoneme/components/midp</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>CVM_INCLUDE_MIDP</tt></td>
          <td>Tells the build system to include the MIDP implementation.</td>
          <td><tt>CVM_INCLUDE_MIDP=true</tt></td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="MIDPTest"><h5>Test the Executable</h5></a>
<p>
<b>Note:</b>
This test procedure is based on using the <tt>qvfb</tt> virtual framebuffer.
The <tt>qt3-dev-tools-embedded</tt> package contains
a prebuilt binary executable version of this developer tool.
</p><p>
Running a test midlet is a two-stage process:
</p><p>
</p><ol>
<li>
<b>Launch the <tt>qvfb</tt> virtual framebuffer.</b>
<p>
</p><blockquote>
<pre>% qvfb -width 640 -height 442 -depth 16 -qwsdisplay :0
</pre>
</blockquote>
<p>
</p></li><li>
<b>Run the test midlet.</b>
Here's an example test script based on a <tt>HelloWorld</tt> midlet:
<p>
</p><blockquote>
<pre>#!/bin/sh

CDC_TOP=/home/test/phoneme/components/cdc/build/linux-x86-generic
CDC_TARGET=$CDC_TOP/phoneme-advanced
CDC_HELLO=$CDC_TOP/hello

$CDC_TARGET/bin/cvm \
  -Dmicroedition.profiles=MIDP-2.0 \
  -Dsun.midp.library.name=midp \
  -Dsun.midp.home.path=$CDC_TARGET/midp/midp_linux_fb_gcc \
  -Dcom.sun.midp.mainClass.name=com.sun.midp.main.CdcMIDletSuiteLoader \
  sun.misc.MIDPLauncher \
    -midppath $CDC_TARGET/midp/midp_linux_fb_gcc/classes.zip \
    -suitepath $CDC_HELLO/HelloWorld.jar -1 HelloWorld</pre>
</blockquote>
</li></ol>

<hr noshade="noshade" size="1">
<a name="AMS"><h4>Building AMS</h4></a>
<p>
phoneME Advanced MR2 includes the a new application management system.
The AMS shown here is really a sample AMS to demonstrate this capability.
A real AMS would include a better presentation layer and perhaps
integration with a native AMS layer.

<a name="AMSSetup"><h5>Setup the Build System</h5></a>
</p><p>
</p><ol>
<li>
<b>Checkout the <tt>jump</tt> component
from the project source code repository.</b>
<p>
</p><blockquote>
<pre>% mkdir -p phoneme-advanced-mr2/jump
% svn checkout https://phoneme.dev.java.net/svn/phoneme/components/jump/trunk phoneme-advanced-mr2/jump
</pre>
</blockquote>
<p>
</p></li><li>
<b>Install the Debian packages for the <tt>ant</tt> tool.
</b><p>
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="40%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Debian Package</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Version</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>ant</tt></td>
          <td>1.6.5</td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>ant-optional</tt></td>
          <td>1.6.5</td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>
</li></ol>

<a name="AMSBuild"><h5>Build the Executable</h5></a>
<p>
Use the following build options:
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="40%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Build Option</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Description</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Example</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>JUMP_DIR</tt></td>
          <td>Location of the <tt>jump</tt> component.</td>
	  <td><tt>/home/test/phoneme/components/jump</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>CVM_INCLUDE_JUMP</tt></td>
          <td>Tells the build system to include the AMS implementation.</td>
          <td><tt>CVM_INCLUDE_JUMP=true</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top"> 
          <td><tt>CVM_MTASK</tt></td>
          <td>Tells the build system to include support for VM multitasking based on VM instance cloning.</td>
          <td><tt>CVM_MTASK=true</tt></td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="AMSTest"><h5>Test the Executable</h5></a>
<p>
TBD.

</p><hr noshade="noshade" size="1">
<a name="OP"><h4>Building an Optional Package</h4></a>
<p>
phoneME Advanced MR2 includes support for several optional packages.
The effort to integrate these optional packages
into the project source code repository so that they can be shared and built
in the phoneME Feature and phoneME Advanced projects is under way.
The example optional package here (<tt>jsr135</tt>)
is really a placeholder to demonstrate build system functionality.

<a name="OPSetup"><h5>Setup the Build System</h5></a>
</p><p>
<b>Checkout the <tt>abstractions</tt> component
and any optional package component
from the project source code repository.</b>
</p><p>
</p><blockquote>
<pre>% mkdir -p phoneme-advanced-mr2/jsr135
% svn checkout https://phoneme.dev.java.net/svn/phoneme/components/jsr135/trunk phoneme-advanced-mr2/jsr135
</pre>
</blockquote>

<a name="OPBuild"><h5>Build the Executable</h5></a>
<p>
Use the following build options:
</p><blockquote>
<table bgcolor="#333366" border="0" cellpadding="0" cellspacing="0" width="40%">
  <tbody>
    <tr>
      <td>
      <table border="0" cellpadding="3" cellspacing="1" width="100%">
        <tbody> 
        <tr> 
          <th><font color="#ffffff" size="-1"><b>Build Option</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Description</b></font></th>
          <th><font color="#ffffff" size="-1"><b>Example</b></font></th>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>JSR_DIR_135</tt></td>
          <td>Location of the <tt>jsr135</tt> component.</td>
	  <td><tt>JSR_DIR_135=/home/test/phoneme/components/jsr135</tt></td>
        </tr>
        <tr bgcolor="#ffffff" valign="top">
          <td><tt>USE_JSR135</tt></td>
          <td>Tells the build system to include the <tt>jsr135</tt> implementation.</td>
	  <td><tt>USE_JSR135=true</tt></td>
        </tr>
        </tbody> 
      </table>
      </td>
    </tr>
  </tbody>
</table>
</blockquote>

<a name="OPTest"><h5>Test the Executable</h5></a>
<p>
TBD

</p></div></td></tr></tbody></table></body></html>
